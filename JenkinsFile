pipeline
{
	agent any
	stages
	{
		stage('Build')
		{
			steps
			{
				echo "Build is Started"
				bat "mvn clean"
				echo "Build is Successful"
			}
		}
		stage('Deploy')
		{
			steps
			{
				echo "Deployment of Code is Started"
				echo "Deployment of Code is Successful"
			}
		}
		stage('Test')
		{
			parallel
			{
				stage('Smoke Test')
				{
					steps
					{
						echo "Smoke Test Execution is Started"
						bat "mvn test -PSmoke"
						echo "Smoke Test Execution is Successful"
					}
				}
				stage('Regression Test')
				{
					steps
					{
						echo "Regression Test Execution is Started"
						bat "mvn test -PRegression"
						echo "Regression Test Execution is Successful"
					}
				}
			}
		}
		stage('Release')
		{
			steps
			{
				echo "Release is Started"
				echo "Release is Successful"
			}
		}
		stage('Slack Notification')
		{
			steps
			{
				slackSend channel: 'test-automation',
				color: 'good',
				message: 'Smoke and Regression Test Suites are executed Successfully from Declarative Pipeline..!!',
				message: "*${currentBuild.currentResult}:* 
				Job ${env.JOB_NAME} 
				build ${env.BUILD_NUMBER}\n 
				More Information at: ${env.BUILD_URL}"
			}
		}
	}
	post
	{
		success 
		{
            		echo "The Job is Successful"
        	}
        	failure 
		{
            		echo "The Job is Failed"
        	}
	}
}
